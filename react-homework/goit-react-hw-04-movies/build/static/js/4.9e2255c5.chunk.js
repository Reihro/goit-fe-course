(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[4,10],{100:function(t,e,a){t.exports={wrapper:"SearchField_wrapper__bcH2v",searchField:"SearchField_searchField__3YhKO"}},123:function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return L}));var n=a(1),i=a(56),c=a(57),o=a(59),r=a(58),s=a(0),u=a(120),h=a(14),p=a.n(h),l=a(75),d=a.n(l),v=a(61),f=a(65),g=a(3),m=a(98),b=a.n(m),j=a(100),y=a.n(j),O=function(t){Object(o.a)(a,t);var e=Object(r.a)(a);function a(){var t;Object(i.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).state={query:""},t.debouncedValueUpdate=b.a.debounce((function(e){return t.props.history.push({pathname:t.props.location.pathname,search:e?"query=".concat(e):""})}),500),t.onChange=function(e){var a=e.target.value;t.setState({query:a}),t.debouncedValueUpdate(a)},t}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var t=d.a.parse(this.props.location.search).query;t&&this.setState({query:t})}},{key:"render",value:function(){var t=this.state.query;return Object(n.jsx)("div",{children:Object(n.jsx)("input",{className:y.a.searchField,placeholder:"Type movie title here...",type:"text",value:t,onChange:this.onChange})})}}]),a}(s.Component),x=Object(g.f)(O),_=a(55),k=function(t){return d.a.parse(t.search).query},L=function(t){Object(o.a)(a,t);var e=Object(r.a)(a);function a(){var t;Object(i.a)(this,a);for(var n=arguments.length,c=new Array(n),o=0;o<n;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).state={movies:[],isLoading:!1,totalPages:0,activePage:1},t.fetchData=function(){var e=k(t.props.location);e&&(t.setState({isLoading:!0}),_.d(e,t.state.activePage).then((function(e){t.setState({isLoading:!1,totalPages:e.total_pages,movies:e.results})})))},t.handlePageChange=function(e,a){var n=k(t.props.location),i=1===a?"":"&page=".concat(a);t.props.history.push({path:"/movies",search:"?query=".concat(n).concat(i)}),t.setState({activePage:a})},t}return Object(c.a)(a,[{key:"componentDidMount",value:function(){var t,e=(t=this.props.location,d.a.parse(t.search).page);e=e?Number(e):1,this.setState({activePage:e},this.fetchData)}},{key:"componentDidUpdate",value:function(t){t.location!==this.props.location&&this.fetchData()}},{key:"render",value:function(){var t=this.state,e=t.movies,a=t.isLoading,i=t.totalPages,c=k(this.props.location);return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(x,{}),a&&Object(n.jsx)(p.a,{type:"Hearts",color:"rgba(218,209,77,.836)",height:80,width:100,timeout:1e4,className:"Loader"}),e.length>0&&c?Object(n.jsxs)("div",{children:[Object(n.jsx)(f.a,{movies:e}),Object(n.jsx)(u.a,{count:i,page:this.state.activePage,onChange:this.handlePageChange,style:{display:"flex",justifyContent:"center"}})]}):!a&&c&&Object(n.jsx)(v.default,{message:"Sorry nothing matches your request"})]})}}]),a}(s.Component)},55:function(t,e,a){"use strict";a.d(e,"e",(function(){return o})),a.d(e,"a",(function(){return r})),a.d(e,"d",(function(){return s})),a.d(e,"b",(function(){return u})),a.d(e,"c",(function(){return h}));var n=a(64),i=a.n(n),c="98ece17c6d461e449fe9f712b8a7c646";function o(){return i.a.get("https://api.themoviedb.org/3/trending/movie/day?api_key=".concat(c)).then((function(t){return t.data.results}))}function r(t){return i.a.get("https://api.themoviedb.org/3/movie/".concat(t,"?api_key=").concat(c)).then((function(t){return t.data}))}function s(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return i.a.get("https://api.themoviedb.org/3/search/movie?api_key=".concat(c,"&query=").concat(t,"&page=").concat(e,"&include_adult=false&language=en-US")).then((function(t){return t.data}))}function u(t){return i.a.get("https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=").concat(c)).then((function(t){return t.data}))}function h(t){return i.a.get("https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=").concat(c)).then((function(t){return t.data.results}))}},61:function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return i}));var n=a(1);a(0);function i(t){var e=t.message,a=void 0===e?"Sorry nothing found":e;return Object(n.jsx)("p",{style:{textAlign:"center"},children:a})}},62:function(t,e,a){t.exports={movieListItem:"MovieListItem_movieListItem__391Qz"}},63:function(t,e,a){t.exports={moviesList:"MoviesList_moviesList__2Sb8K"}},65:function(t,e,a){"use strict";var n=a(66),i=a(1),c=(a(0),a(3)),o=a(9),r=a(62),s=a.n(r),u=a.p+"static/media/blankMovieIMG.49e61e56.jpg",h=Object(c.f)((function(t){var e=t.id,a=t.title,n=t.location,c=t.backdrop_path,r=t.release_date,h=c?"https://image.tmdb.org/t/p/w500".concat(c):u;return Object(i.jsx)("li",{className:s.a.movieListItem,children:Object(i.jsxs)(o.b,{to:{pathname:"/movies/".concat(e),state:{from:n}},className:s.a.movieLink,children:[Object(i.jsx)("img",{src:h,alt:a}),Object(i.jsxs)("p",{className:s.a.description,children:[a," (",r.split("-")[0],")"]})]})})})),p=a(63),l=a.n(p);e.a=Object(c.f)((function(t){var e=t.movies;return Object(i.jsx)("div",{children:Object(i.jsx)("ul",{className:l.a.moviesList,children:e.map((function(t){return Object(i.jsx)(h,Object(n.a)({},t),t.id)}))})})}))}}]);
//# sourceMappingURL=4.9e2255c5.chunk.js.map