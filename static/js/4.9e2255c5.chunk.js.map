{"version":3,"sources":["components/Search/SearchField/SearchField.module.css","components/Search/SearchField/SearchField.js","pages/Movies.js","components/API.js","pages/NotFound.js","components/Search/MovieListItem/MovieListItem.module.css","components/Search/MoviesList/MoviesList.module.css","components/Search/MovieListItem/blankMovieIMG.jpg","components/Search/MovieListItem/MovieListItem.js","components/Search/MoviesList/MoviesList.js"],"names":["module","exports","SearchField","state","query","debouncedValueUpdate","_","debounce","value","props","history","push","pathname","location","search","onChange","e","target","setState","queryString","parse","this","className","styles","searchField","placeholder","type","Component","withRouter","getQueryFromLocation","MoviesPage","movies","isLoading","totalPages","activePage","fetchData","MoviesAPI","then","data","total_pages","results","handlePageChange","obj","pageNumber","searchPage","path","page","Number","prevProps","color","height","width","timeout","length","MoviesList","Pagination","count","style","display","justifyContent","NotFound","message","KEY","getTrending","axios","get","response","getMovieById","id","getMoviesByQuery","getMovieCredits","getMovieReviews","textAlign","title","backdrop_path","release_date","movieImg","blankMovie","movieListItem","to","from","movieLink","src","alt","description","split","moviesList","map","movie"],"mappings":"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","file":"static/js/4.9e2255c5.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"SearchField_wrapper__bcH2v\",\"searchField\":\"SearchField_searchField__3YhKO\"};","import React, { Component } from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport queryString from \"query-string\";\nimport _ from \"lodash\";\nimport styles from \"./SearchField.module.css\";\n\nclass SearchField extends Component {\n  state = { query: \"\" };\n\n  debouncedValueUpdate = _.debounce(\n    (value) =>\n      this.props.history.push({\n        pathname: this.props.location.pathname,\n        search: value ? `query=${value}` : \"\",\n      }),\n    500\n  );\n\n  componentDidMount() {\n    const { query } = queryString.parse(this.props.location.search);\n    if (query) {\n      this.setState({ query });\n    }\n  }\n\n  onChange = (e) => {\n    const { value } = e.target;\n    this.setState({\n      query: value,\n    });\n    this.debouncedValueUpdate(value);\n  };\n\n  render() {\n    const { query } = this.state;\n    return (\n      <div>\n        <input\n          className={styles.searchField}\n          placeholder=\"Type movie title here...\"\n          type=\"text\"\n          value={query}\n          onChange={this.onChange}\n        />\n      </div>\n    );\n  }\n}\n\nexport default withRouter(SearchField);","import React, { Component } from \"react\";\nimport Pagination from \"@material-ui/lab/Pagination\";\nimport Loader from \"react-loader-spinner\";\nimport queryString from \"query-string\";\nimport NotFound from \"./NotFound\";\nimport MoviesList from \"../components/Search/MoviesList/MoviesList\";\nimport SearchField from \"../components/Search/SearchField/SearchField\";\nimport * as MoviesAPI from \"../components/API\";\n\nconst getQueryFromLocation = (location) =>\n  queryString.parse(location.search).query;\n\nconst getPageFromLocation = (location) =>\n  queryString.parse(location.search).page;\n\nexport default class MoviesPage extends Component {\n  state = {\n    movies: [],\n    isLoading: false,\n    totalPages: 0,\n    activePage: 1,\n  };\n\n  componentDidMount() {\n    let activePage = getPageFromLocation(this.props.location);\n    activePage = activePage ? Number(activePage) : 1;\n\n    this.setState({ activePage }, this.fetchData);\n  }\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.location !== this.props.location) {\n      this.fetchData();\n    }\n  }\n\n  fetchData = () => {\n    const query = getQueryFromLocation(this.props.location);\n    if (query) {\n      this.setState({ isLoading: true });\n      MoviesAPI.getMoviesByQuery(query, this.state.activePage).then((data) => {\n        this.setState({\n          isLoading: false,\n          totalPages: data.total_pages,\n          movies: data.results,\n        });\n      });\n    }\n  };\n\n  handlePageChange = (obj, pageNumber) => {\n    const query = getQueryFromLocation(this.props.location);\n    const searchPage = pageNumber === 1 ? \"\" : `&page=${pageNumber}`;\n    this.props.history.push({\n      path: \"/movies\",\n      search: `?query=${query}${searchPage}`,\n    });\n    this.setState({ activePage: pageNumber });\n  };\n\n  render() {\n    const { movies, isLoading, totalPages } = this.state;\n    const query = getQueryFromLocation(this.props.location);\n    return (\n      <>\n        <SearchField />\n\n        {isLoading && (\n          <Loader\n            type=\"Hearts\"\n            color=\"rgba(218,209,77,.836)\"\n            height={80}\n            width={100}\n            timeout={10000}\n            className=\"Loader\"\n          />\n        )}\n\n        {movies.length > 0 && query ? (\n          <div>\n            <MoviesList movies={movies} />\n            <Pagination\n              count={totalPages}\n              page={this.state.activePage}\n              onChange={this.handlePageChange}\n              style={{ display: \"flex\", justifyContent: \"center\" }}\n            />\n          </div>\n        ) : (\n          !isLoading &&\n          query && <NotFound message=\"Sorry nothing matches your request\" />\n        )}\n      </>\n    );\n  }\n}","import axios from \"axios\";\n\nconst KEY = \"98ece17c6d461e449fe9f712b8a7c646\";\n\nexport function getTrending() {\n  return axios\n    .get(`https://api.themoviedb.org/3/trending/movie/day?api_key=${KEY}`)\n    .then((response) => response.data.results);\n}\n\nexport function getMovieById(id) {\n  return axios\n    .get(`https://api.themoviedb.org/3/movie/${id}?api_key=${KEY}`)\n    .then((response) => response.data);\n}\n\nexport function getMoviesByQuery(query, page = 1) {\n  return axios\n    .get(\n      `https://api.themoviedb.org/3/search/movie?api_key=${KEY}&query=${query}&page=${page}&include_adult=false&language=en-US`\n    )\n    .then((response) => response.data);\n}\n\nexport function getMovieCredits(id) {\n  return axios\n    .get(`https://api.themoviedb.org/3/movie/${id}/credits?api_key=${KEY}`)\n    .then((response) => response.data);\n}\n\nexport function getMovieReviews(id) {\n  return axios\n    .get(`https://api.themoviedb.org/3/movie/${id}/reviews?api_key=${KEY}`)\n    .then((response) => response.data.results);\n}\n","import React from \"react\";\n\nexport default function NotFound({ message = \"Sorry nothing found\" }) {\n  return <p style={{ textAlign: \"center\" }}>{message}</p>;\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movieListItem\":\"MovieListItem_movieListItem__391Qz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"moviesList\":\"MoviesList_moviesList__2Sb8K\"};","export default __webpack_public_path__ + \"static/media/blankMovieIMG.49e61e56.jpg\";","import React from \"react\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport styles from \"./MovieListItem.module.css\";\nimport blankMovie from \"./blankMovieIMG.jpg\";\n\nconst MovieListItem = ({\n  id,\n  title,\n  location,\n  backdrop_path,\n  release_date,\n}) => {\n  const movieImg = backdrop_path\n    ? `https://image.tmdb.org/t/p/w500${backdrop_path}`\n    : blankMovie;\n  return (\n    <li className={styles.movieListItem}>\n      <Link\n        to={{\n          pathname: `/movies/${id}`,\n          state: { from: location },\n        }}\n        className={styles.movieLink}\n      >\n        <img src={movieImg} alt={title} />\n        <p className={styles.description}>\n          {title} ({release_date.split(\"-\")[0]})\n        </p>\n      </Link>\n    </li>\n  );\n};\n\nMovieListItem.propTypes = {\n  id: PropTypes.number.isRequired,\n  title: PropTypes.string.isRequired,\n  backdrop_path: PropTypes.string,\n  release_date: PropTypes.string.isRequired,\n};\n\nexport default withRouter(MovieListItem);","import React from \"react\";\nimport { withRouter } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport MoviesListItem from \"../MovieListItem/MovieListItem\";\nimport styles from \"./MoviesList.module.css\";\n\nconst MoviesList = ({ movies }) => (\n  <div>\n    <ul className={styles.moviesList}>\n      {movies.map((movie) => (\n        <MoviesListItem key={movie.id} {...movie} />\n      ))}\n    </ul>\n  </div>\n);\n\nMoviesList.propTypes = {\n  movies: PropTypes.array.isRequired,\n};\n\nexport default withRouter(MoviesList);"],"sourceRoot":""}